<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Penas - CPP | Simulados de Direito</title>
    <meta name="description" content="Calculadora de penas conforme o C√≥digo de Processo Penal brasileiro. Calcule regimes, progress√µes, fra√ß√µes, suspens√£o condicional e mais.">
    
    <style>
        :root {
            --primary-color: #003366;
            --secondary-color: #002244;
            --accent-color: #0055aa;
            --danger-color: #dc3545;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --text-light: #ffffff;
            --text-dark: #333333;
            --background-light: #f4f4f4;
            --card-bg: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--background-light);
            font-size: 16px;
        }
        
        .header {
            background: var(--primary-color);
            color: var(--text-light);
            padding: 25px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .alert-test {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            margin: 15px auto;
            max-width: 1200px;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
        }
        
        .legal-advice {
            background: #e7f3ff;
            border: 2px solid var(--accent-color);
            padding: 15px;
            margin: 15px auto;
            max-width: 1200px;
            border-radius: 8px;
            text-align: center;
        }
        
        .legal-advice a {
            color: #8B0000;
            font-weight: bold;
            text-decoration: none;
        }
        
        .legal-advice a:hover {
            text-decoration: underline;
        }
        
        .nav-bar {
            background: var(--secondary-color);
            padding: 12px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-bar a {
            color: var(--text-light);
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 5px;
            transition: var(--transition);
        }
        
        .nav-bar a:hover {
            background: var(--accent-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .card h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }
        
        .card h3 {
            color: var(--primary-color);
            margin: 20px 0 15px 0;
            font-size: 1.3em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: var(--transition);
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--accent-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 85, 170, 0.2);
        }
        
        .btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: var(--transition);
            display: inline-block;
            text-align: center;
        }
        
        .btn:hover {
            background: #003d7a;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: var(--danger-color);
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        .results {
            background: #e7f3ff;
            border: 1px solid var(--accent-color);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        
        .results h3 {
            color: var(--primary-color);
            margin-top: 0;
        }
        
        .result-item {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid var(--accent-color);
        }
        
        .result-item strong {
            color: var(--primary-color);
            font-size: 1.1em;
        }
        
        .result-item p {
            margin: 5px 0;
        }
        
        .calculation-explanation {
            background: #f8f9fa;
            border-left: 4px solid var(--warning-color);
            padding: 15px;
            margin: 15px 0;
            font-size: 0.95em;
        }
        
        .calculation-explanation h4 {
            color: var(--primary-color);
            margin-top: 0;
        }
        
        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .calculator-box {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 25px;
            transition: var(--transition);
        }
        
        .calculator-box:hover {
            border-color: var(--accent-color);
            transform: translateY(-5px);
        }
        
        .calculator-box h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-box {
            background: #fff3cd;
            border: 1px solid var(--warning-color);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .legislation-ref {
            background: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            margin: 20px 0;
            font-style: italic;
        }
        
        .footer {
            text-align: center;
            padding: 30px 20px;
            background: var(--card-bg);
            margin-top: 30px;
            border-top: 1px solid #ddd;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-bar {
                gap: 10px;
                padding: 10px;
            }
            
            .nav-bar a {
                padding: 8px 12px;
                font-size: 0.9em;
            }
        }
        
        .icon {
            font-size: 1.2em;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚öñÔ∏è Calculadora de Penas - CPP</h1>
        <p>Calculadora jur√≠dica para penas conforme o C√≥digo de Processo Penal brasileiro</p>
    </div>

    <div class="alert-test">
        <strong>‚ö†Ô∏è VERS√ÉO EM TESTES</strong><br>
        Esta calculadora est√° em fase de desenvolvimento. Os c√°lculos s√£o aproximados e para fins educacionais.
    </div>

    <div class="legal-advice">
        <strong>‚öñÔ∏è PARA C√ÅLCULOS PRECISOS E ORIENTA√á√ÉO JUR√çDICA PROFISSIONAL:</strong><br>
        Recomendamos consultar a <a href="https://advocaciasapucaia.blogspot.com/" target="_blank">Advocacia Vera Catarina</a><br>
        E-mail: <a href="mailto:dra.veracatarina@gmail.com">dra.veracatarina@gmail.com</a>
    </div>

    <nav class="nav-bar">
        <a href="https://fabiowlademir.github.io/simuladosdireito/">üè† In√≠cio</a>
        <a href="https://fabiowlademir.github.io/simuladosdireito/calculadora_media.html">üßÆ Calculadora de M√©dia</a>
        <a href="https://fabiowlademir.github.io/simuladosdireito/calculadora_trabalhista.html">üë∑ Calculadora Trabalhista</a>
    </nav>

    <div class="container">
        <!-- Calculadora de Regimes -->
        <div class="card">
            <h2>üìä C√°lculo de Regime de Cumprimento de Pena</h2>
            
            <div class="form-group">
                <label for="penaTotal">Pena Total Aplicada (em anos):</label>
                <input type="number" id="penaTotal" step="0.1" min="0" placeholder="Ex: 4.5">
            </div>
            
            <div class="form-group">
                <label for="reatincidente">R√©u √© reincidente?</label>
                <select id="reatincidente">
                    <option value="nao">N√£o (prim√°rio)</option>
                    <option value="sim">Sim (reincidente)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="violencia">Crime envolveu viol√™ncia ou grave amea√ßa?</label>
                <select id="violencia">
                    <option value="nao">N√£o</option>
                    <option value="sim">Sim</option>
                </select>
            </div>
            
            <button class="btn" onclick="calcularRegime()">Calcular Regime</button>
            
            <div class="results" id="resultRegime">
                <h3>Resultado do C√°lculo de Regime</h3>
                <div class="result-item">
                    <strong>Regime Inicial Aplic√°vel:</strong>
                    <p id="regimeResultado"></p>
                </div>
                
                <div class="calculation-explanation">
                    <h4>üìù Como √© feito o c√°lculo:</h4>
                    <p>O regime inicial √© determinado pela pena aplicada e caracter√≠sticas do r√©u:</p>
                    <ul>
                        <li><strong>At√© 4 anos:</strong> Regime aberto para prim√°rios sem viol√™ncia</li>
                        <li><strong>At√© 4 anos com reincid√™ncia/viol√™ncia:</strong> Regime semiaberto</li>
                        <li><strong>4 a 8 anos:</strong> Regime semiaberto</li>
                        <li><strong>Acima de 8 anos:</strong> Regime fechado</li>
                    </ul>
                </div>
                
                <div class="legislation-ref">
                    <strong>üìö Fundamentos Legais:</strong><br>
                    ‚Ä¢ <strong>Art. 33 do C√≥digo Penal:</strong> Define os regimes de cumprimento de pena<br>
                    ‚Ä¢ <strong>Lei 7.210/84 (LEP):</strong> Lei de Execu√ß√£o Penal<br>
                    ‚Ä¢ <strong>Art. 2¬∫, ¬ß2¬∫ da LEP:</strong> Crit√©rios para fixa√ß√£o do regime inicial
                </div>
            </div>
        </div>

        <!-- Calculadora de Progress√£o -->
        <div class="card">
            <h2>üìà C√°lculo de Progress√£o de Regime</h2>
            
            <div class="form-group">
                <label for="tempoCumprido">Tempo j√° cumprido (em anos):</label>
                <input type="number" id="tempoCumprido" step="0.1" min="0" placeholder="Ex: 1.5">
            </div>
            
            <div class="form-group">
                <label for="penaTotal2">Pena Total (em anos):</label>
                <input type="number" id="penaTotal2" step="0.1" min="0" placeholder="Ex: 6">
            </div>
            
            <div class="form-group">
                <label for="regimeAtual">Regime Atual:</label>
                <select id="regimeAtual">
                    <option value="fechado">Fechado</option>
                    <option value="semiaberto">Semiaberto</option>
                    <option value="aberto">Aberto</option>
                </select>
            </div>
            
            <div class="info-box">
                ‚ö†Ô∏è <strong>Observa√ß√£o:</strong> Para progress√£o, considera-se o cumprimento m√≠nimo de:
                <ul style="margin: 10px 0 0 20px;">
                    <li>Fechado ‚Üí Semiaberto: 1/6 da pena (prim√°rio) ou 2/5 (reincidente)</li>
                    <li>Semiaberto ‚Üí Aberto: 1/6 da pena restante</li>
                </ul>
            </div>
            
            <button class="btn btn-success" onclick="calcularProgressao()">Calcular Progress√£o</button>
            
            <div class="results" id="resultProgressao">
                <h3>Resultado da Progress√£o</h3>
                <div class="result-item">
                    <strong>Progress√£o Dispon√≠vel:</strong>
                    <p id="progressaoResultado"></p>
                </div>
                <div class="result-item">
                    <strong>Tempo Necess√°rio:</strong>
                    <p id="tempoNecessario"></p>
                </div>
                
                <div class="calculation-explanation">
                    <h4>üìù Como √© feito o c√°lculo:</h4>
                    <p><strong>F√≥rmula:</strong> Tempo necess√°rio = Pena total √ó Fra√ß√£o legal</p>
                    <p><strong>Fra√ß√µes aplic√°veis:</strong></p>
                    <ul>
                        <li><strong>Prim√°rios:</strong> 1/6 da pena (16,67%)</li>
                        <li><strong>Reincidentes:</strong> 2/5 da pena (40%)</li>
                        <li><strong>Progress√£o Semiaberto ‚Üí Aberto:</strong> 1/6 da pena restante</li>
                    </ul>
                    <p><strong>Exemplo:</strong> Pena de 6 anos para prim√°rio = 6 √ó 1/6 = 1 ano necess√°rio</p>
                </div>
                
                <div class="legislation-ref">
                    <strong>üìö Fundamentos Legais:</strong><br>
                    ‚Ä¢ <strong>Art. 112 da LEP:</strong> Requisitos para progress√£o de regime<br>
                    ‚Ä¢ <strong>Art. 2¬∫, ¬ß3¬∫ da LEP:</strong> Fra√ß√µes para c√°lculo do tempo de cumprimento<br>
                    ‚Ä¢ <strong>S√∫mula 716 do STF:</strong> Computa√ß√£o do tempo de pris√£o provis√≥ria
                </div>
            </div>
        </div>

        <!-- Calculadora de Fra√ß√µes -->
        <div class="card">
            <h2>üî¢ C√°lculo de Fra√ß√µes de Pena</h2>
            
            <div class="calculator-grid">
                <div class="calculator-box">
                    <h3>üîç Fra√ß√£o de 1/6</h3>
                    <div class="form-group">
                        <label for="penaFracao">Pena Total:</label>
                        <input type="number" id="penaFracao" step="0.1" placeholder="Em anos">
                    </div>
                    <button class="btn" onclick="calcularFracao(6)">Calcular 1/6</button>
                    <div class="result-item" id="fracao16" style="display: none;"></div>
                </div>
                
                <div class="calculator-box">
                    <h3>üìê Fra√ß√£o de 1/3</h3>
                    <div class="form-group">
                        <label for="penaFracao2">Pena Total:</label>
                        <input type="number" id="penaFracao2" step="0.1" placeholder="Em anos">
                    </div>
                    <button class="btn" onclick="calcularFracao(3)">Calcular 1/3</button>
                    <div class="result-item" id="fracao13" style="display: none;"></div>
                </div>
                
                <div class="calculator-box">
                    <h3>‚öñÔ∏è Fra√ß√£o de 2/5</h3>
                    <div class="form-group">
                        <label for="penaFracao3">Pena Total:</label>
                        <input type="number" id="penaFracao3" step="0.1" placeholder="Em anos">
                    </div>
                    <button class="btn" onclick="calcularFracao(2.5)">Calcular 2/5</button>
                    <div class="result-item" id="fracao25" style="display: none;"></div>
                </div>
            </div>
            
            <div class="calculation-explanation" style="margin-top: 20px;">
                <h4>üìù Como s√£o feitos os c√°lculos:</h4>
                <p><strong>F√≥rmula b√°sica:</strong> Fra√ß√£o = Pena total √∑ Denominador da fra√ß√£o</p>
                <p><strong>Convers√µes:</strong></p>
                <ul>
                    <li><strong>1/6:</strong> Pena √ó 0,1667 (ou Pena √∑ 6)</li>
                    <li><strong>1/3:</strong> Pena √ó 0,3333 (ou Pena √∑ 3)</li>
                    <li><strong>2/5:</strong> Pena √ó 0,4 (ou Pena √∑ 2,5)</li>
                </ul>
                <p><strong>Exemplo para pena de 6 anos:</strong></p>
                <ul>
                    <li>1/6 = 6 √∑ 6 = 1 ano</li>
                    <li>1/3 = 6 √∑ 3 = 2 anos</li>
                    <li>2/5 = 6 √∑ 2,5 = 2,4 anos</li>
                </ul>
            </div>
            
            <div class="legislation-ref">
                <strong>üìö Fra√ß√µes comuns no Direito Penal e seus usos:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li><strong>1/6 (16,67%):</strong> Progress√£o de regime para prim√°rios (Art. 112, I, LEP)</li>
                    <li><strong>1/3 (33,33%):</strong> Per√≠odo de experi√™ncia no livramento condicional (Art. 132, LEP)</li>
                    <li><strong>2/5 (40%):</strong> Progress√£o de regime para reincidentes (Art. 112, ¬ß1¬∫, LEP)</li>
                    <li><strong>1/2 (50%):</strong> Remi√ß√£o de pena por estudo (Art. 126, LEP)</li>
                </ul>
            </div>
        </div>

        <!-- Calculadora de Suspens√£o Condicional -->
        <div class="card">
            <h2>‚è≥ Suspens√£o Condicional da Pena</h2>
            
            <div class="form-group">
                <label for="penaSuspensao">Pena Privativa de Liberdade (em anos):</label>
                <input type="number" id="penaSuspensao" step="0.1" min="0" max="4" placeholder="M√°ximo 4 anos">
            </div>
            
            <div class="form-group">
                <label for="antecedentes">Antecedentes Criminais:</label>
                <select id="antecedentes">
                    <option value="bons">Bons antecedentes</option>
                    <option value="ruins">Maus antecedentes</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="culpabilidade">Culpabilidade (Art. 59, CP):</label>
                    <select id="culpabilidade">
                    <option value="baixa">Baixa</option>
                    <option value="media">M√©dia</option>
                    <option value="alta">Alta</option>
                </select>
            </div>
            
            <button class="btn btn-success" onclick="calcularSuspensao()">Verificar Elegibilidade</button>
            
            <div class="results" id="resultSuspensao">
                <h3>Resultado da An√°lise</h3>
                <div class="result-item">
                    <strong>Eleg√≠vel para Suspens√£o:</strong>
                    <p id="elegibilidadeResultado"></p>
                </div>
                <div class="result-item">
                    <strong>Per√≠odo de Prova:</strong>
                    <p id="periodoProva"></p>
                </div>
                
                <div class="calculation-explanation">
                    <h4>üìù Requisitos para suspens√£o condicional:</h4>
                    <p><strong>Conforme Art. 77 do C√≥digo Penal, s√£o necess√°rios:</strong></p>
                    <ol>
                        <li>Pena privativa de liberdade n√£o superior a 4 anos</li>
                        <li>R√©u n√£o ser reincidente em crime doloso</li>
                        <li>Bons antecedentes</li>
                        <li>Circunst√¢ncias judiciais favor√°veis (Art. 59, CP)</li>
                        <li>Culpabilidade, antecedentes, conduta social, personalidade, motivos, circunst√¢ncias e consequ√™ncias do crime</li>
                    </ol>
                    <p><strong>Per√≠odo de prova:</strong> 2 a 4 anos, conforme gravidade</p>
                </div>
                
                <div class="legislation-ref">
                    <strong>üìö Fundamentos Legais:</strong><br>
                    ‚Ä¢ <strong>Art. 77 do C√≥digo Penal:</strong> Requisitos da suspens√£o condicional<br>
                    ‚Ä¢ <strong>Art. 78 do CP:</strong> Per√≠odo de prova<br>
                    ‚Ä¢ <strong>Art. 59 do CP:</strong> Circunst√¢ncias judiciais<br>
                    ‚Ä¢ <strong>Art. 81 do CP:</strong> Revoga√ß√£o da suspens√£o
                </div>
            </div>
        </div>

        <!-- Calculadora de Detra√ß√£o Penal -->
        <div class="card">
            <h2>‚è±Ô∏è C√°lculo de Detra√ß√£o Penal</h2>
            <p>Desconto de tempo de pris√£o provis√≥ria no cumprimento da pena</p>
            
            <div class="form-group">
                <label for="penaDefinitiva">Pena Definitiva (em anos):</label>
                <input type="number" id="penaDefinitiva" step="0.1" min="0" placeholder="Ex: 8">
            </div>
            
            <div class="form-group">
                <label for="prisaoProvisoria">Tempo de Pris√£o Provis√≥ria (em dias):</label>
                <input type="number" id="prisaoProvisoria" min="0" placeholder="Ex: 120">
            </div>
            
            <div class="form-group">
                <label for="regimeDetracao">Regime durante a pris√£o provis√≥ria:</label>
                <select id="regimeDetracao">
                    <option value="fechado">Fechado</option>
                    <option value="semiaberto">Semiaberto</option>
                </select>
            </div>
            
            <button class="btn" onclick="calcularDetracao()">Calcular Detra√ß√£o</button>
            
            <div class="results" id="resultDetracao">
                <h3>Resultado do C√°lculo de Detra√ß√£o</h3>
                <div class="result-item">
                    <strong>Pena a Cumprir ap√≥s Detra√ß√£o:</strong>
                    <p id="penaRestante"></p>
                </div>
                <div class="result-item">
                    <strong>Tempo Descontado:</strong>
                    <p id="tempoDescontado"></p>
                </div>
                
                <div class="calculation-explanation">
                    <h4>üìù Como √© feito o c√°lculo:</h4>
                    <p><strong>F√≥rmula:</strong> Pena restante = Pena definitiva - (Tempo pris√£o provis√≥ria √∑ 365)</p>
                    <p><strong>Exemplo:</strong></p>
                    <ul>
                        <li>Pena definitiva: 8 anos</li>
                        <li>Pris√£o provis√≥ria: 180 dias (‚âà 0,493 anos)</li>
                        <li>C√°lculo: 8 - (180 √∑ 365) = 8 - 0,493 = 7,507 anos restantes</li>
                    </ul>
                    <p><strong>Observa√ß√£o:</strong> O tempo de pris√£o provis√≥ria √© descontado integralmente da pena (S√∫mula 716 STF)</p>
                </div>
                
                <div class="legislation-ref">
                    <strong>üìö Fundamentos Legais:</strong><br>
                    ‚Ä¢ <strong>Art. 42 do C√≥digo Penal:</strong> Computa√ß√£o do tempo de pris√£o provis√≥ria<br>
                    ‚Ä¢ <strong>S√∫mula 716 do STF:</strong> "Computa-se, na pena privativa de liberdade e na medida de seguran√ßa, o tempo de pris√£o provis√≥ria, no Brasil ou no estrangeiro, o de pris√£o administrativa e o de interna√ß√£o em hospital de cust√≥dia"<br>
                    ‚Ä¢ <strong>Art. 119 da LEP:</strong> Forma de c√°lculo da detra√ß√£o
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>‚öñÔ∏è <strong>Calculadora de Penas - CPP</strong></p>
        <p>‚ö†Ô∏è <strong>VERS√ÉO EM TESTES</strong> - Para c√°lculos precisos e orienta√ß√£o jur√≠dica profissional:</p>
        <p>Consulte a <a href="https://advocaciasapucaia.blogspot.com/" target="_blank" style="color: #8B0000; font-weight: bold;">Advocacia Vera Catarina</a></p>
        <p>E-mail: <a href="mailto:dra.veracatarina@gmail.com">dra.veracatarina@gmail.com</a></p>
        <p>Refer√™ncias: C√≥digo Penal (Decreto-Lei 2.848/40) e Lei de Execu√ß√£o Penal (7.210/84)</p>
        <p><a href="https://fabiowlademir.github.io/simuladosdireito/">Voltar para Simulados de Direito</a></p>
    </footer>

    <script>
        // C√°lculo de Regime
        function calcularRegime() {
            const pena = parseFloat(document.getElementById('penaTotal').value);
            const reincidente = document.getElementById('reatincidente').value;
            const violencia = document.getElementById('violencia').value;
            
            if (!pena || pena <= 0) {
                alert("Por favor, insira uma pena v√°lida.");
                return;
            }
            
            let resultado = "";
            let fundamento = "";
            
            if (pena <= 4) {
                if (reincidente === 'nao' && violencia === 'nao') {
                    resultado = "Regime Aberto (Art. 33, ¬ß2¬∫, 'b', CP)";
                    fundamento = "Pena at√© 4 anos, prim√°rio, sem viol√™ncia";
                } else if (reincidente === 'sim' || violencia === 'sim') {
                    resultado = "Regime Semiaberto (Art. 33, ¬ß2¬∫, 'a', CP)";
                    fundamento = "Reincidente ou crime com viol√™ncia";
                }
            } else if (pena <= 8) {
                resultado = "Regime Semiaberto";
                fundamento = "Pena superior a 4 e at√© 8 anos";
            } else {
                resultado = "Regime Fechado";
                fundamento = "Pena superior a 8 anos";
            }
            
            document.getElementById('regimeResultado').innerHTML = `
                <strong>${resultado}</strong><br>
                <small>${fundamento}</small>
            `;
            document.getElementById('resultRegime').style.display = 'block';
        }
        
        // C√°lculo de Progress√£o
        function calcularProgressao() {
            const tempoCumprido = parseFloat(document.getElementById('tempoCumprido').value);
            const penaTotal = parseFloat(document.getElementById('penaTotal2').value);
            const regimeAtual = document.getElementById('regimeAtual').value;
            
            if (!tempoCumprido || !penaTotal || tempoCumprido <= 0 || penaTotal <= 0) {
                alert("Por favor, insira valores v√°lidos.");
                return;
            }
            
            let fracoesNecessaria = regimeAtual === 'fechado' ? (1/6) : (1/6);
            let tempoNecessario = penaTotal * fracoesNecessaria;
            
            let progressaoDisponivel = "";
            let detalhes = "";
            
            if (regimeAtual === 'fechado' && tempoCumprido >= tempoNecessario) {
                progressaoDisponivel = "SIM - Pode progredir para Semiaberto";
                detalhes = `Cumpriu ${tempoCumprido.toFixed(2)} anos de ${tempoNecessario.toFixed(2)} necess√°rios`;
            } else if (regimeAtual === 'semiaberto') {
                const penaRestante = penaTotal - tempoCumprido;
                tempoNecessario = penaRestante > 0 ? penaRestante * (1/6) : 0;
                if (tempoCumprido >= tempoNecessario && penaRestante > 0) {
                    progressaoDisponivel = "SIM - Pode progredir para Aberto";
                    detalhes = `Cumpriu tempo necess√°rio para progress√£o`;
                } else {
                    progressaoDisponivel = "N√ÉO - Tempo insuficiente";
                    detalhes = `Faltam ${(tempoNecessario - tempoCumprido).toFixed(2)} anos`;
                }
            } else {
                progressaoDisponivel = "N√ÉO - Tempo insuficiente";
                detalhes = `Faltam ${(tempoNecessario - tempoCumprido).toFixed(2)} anos`;
            }
            
            document.getElementById('progressaoResultado').textContent = progressaoDisponivel;
            document.getElementById('tempoNecessario').textContent = detalhes;
            document.getElementById('resultProgressao').style.display = 'block';
        }
        
        // C√°lculo de Fra√ß√µes
        function calcularFracao(denominador) {
            let pena, resultadoId, fracaoNome;
            
            if (denominador === 6) {
                pena = parseFloat(document.getElementById('penaFracao').value);
                resultadoId = 'fracao16';
                fracaoNome = '1/6';
            } else if (denominador === 3) {
                pena = parseFloat(document.getElementById('penaFracao2').value);
                resultadoId = 'fracao13';
                fracaoNome = '1/3';
            } else {
                pena = parseFloat(document.getElementById('penaFracao3').value);
                resultadoId = 'fracao25';
                fracaoNome = '2/5';
                denominador = 5/2; // Para 2/5, calculamos 2/5 = 0.4
            }
            
            if (!pena || pena <= 0) {
                alert("Por favor, insira uma pena v√°lida.");
                return;
            }
            
            const fracao = denominador === 5/2 ? pena * 0.4 : pena / denominador;
            const meses = fracao * 12;
            const dias = fracao * 365;
            
            const resultadoDiv = document.getElementById(resultadoId);
            resultadoDiv.innerHTML = `
                <strong>Fra√ß√£o ${fracaoNome} da pena:</strong><br>
                ${fracao.toFixed(2)} anos<br>
                ${meses.toFixed(1)} meses<br>
                ${dias.toFixed(0)} dias<br>
                <small>${fracaoNome} = ${(denominador === 5/2 ? 40 : 100/denominador).toFixed(1)}% da pena total</small>
            `;
            resultadoDiv.style.display = 'block';
        }
        
        // C√°lculo de Suspens√£o Condicional
        function calcularSuspensao() {
            const pena = parseFloat(document.getElementById('penaSuspensao').value);
            const antecedentes = document.getElementById('antecedentes').value;
            const culpabilidade = document.getElementById('culpabilidade').value;
            
            if (!pena || pena <= 0) {
                alert("Por favor, insira uma pena v√°lida.");
                return;
            }
            
            let elegivel = false;
            let motivo = "";
            let periodo = "2 a 4 anos";
            
            if (pena > 4) {
                elegivel = false;
                motivo = "Pena superior a 4 anos (Art. 77, CP)";
            } else if (antecedentes === 'ruins') {
                elegivel = false;
                motivo = "Maus antecedentes criminais";
            } else if (culpabilidade === 'alta') {
                elegivel = false;
                motivo = "Alta culpabilidade do agente";
            } else {
                elegivel = true;
                motivo = "Atende todos os requisitos do Art. 77 do CP";
                
                if (pena <= 1) periodo = "1 ano";
                else if (pena <= 2) periodo = "1 a 3 anos";
                else periodo = "2 a 4 anos";
            }
            
            document.getElementById('elegibilidadeResultado').innerHTML = `
                ${elegivel ? '‚úÖ SIM' : '‚ùå N√ÉO'}<br>
                <small>${motivo}</small>
            `;
            document.getElementById('periodoProva').textContent = elegivel ? `Per√≠odo de prova: ${periodo}` : "N√£o se aplica";
            document.getElementById('resultSuspensao').style.display = 'block';
        }
        
        // C√°lculo de Detra√ß√£o Penal
        function calcularDetracao() {
            const pena = parseFloat(document.getElementById('penaDefinitiva').value);
            const prisaoDias = parseInt(document.getElementById('prisaoProvisoria').value);
            const regime = document.getElementById('regimeDetracao').value;
            
            if (!pena || !prisaoDias || pena <= 0 || prisaoDias <= 0) {
                alert("Por favor, insira valores v√°lidos.");
                return;
            }
            
            const prisaoAnos = prisaoDias / 365;
            
            // C√°lculo com desconto integral (S√∫mula 716 STF)
            let penaRestante = pena - prisaoAnos;
            if (penaRestante < 0) penaRestante = 0;
            
            // Ajuste conforme regime
            let eficiencia = regime === 'fechado' ? 1.0 : 0.8;
            const tempoEfetivo = prisaoAnos * eficiencia;
            
            document.getElementById('penaRestante').innerHTML = `
                <strong>${penaRestante.toFixed(2)} anos</strong><br>
                <small>(${(penaRestante * 12).toFixed(1)} meses / ${(penaRestante * 365).toFixed(0)} dias)</small>
            `;
            
            document.getElementById('tempoDescontado').innerHTML = `
                <strong>${prisaoAnos.toFixed(2)} anos</strong><br>
                <small>${prisaoDias} dias de pris√£o provis√≥ria</small>
            `;
            
            document.getElementById('resultDetracao').style.display = 'block';
        }
        
        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Exemplo de preenchimento autom√°tico para demonstra√ß√£o
            document.getElementById('penaTotal').value = 4.5;
            document.getElementById('penaFracao').value = 6;
            document.getElementById('penaFracao2').value = 6;
            document.getElementById('penaFracao3').value = 6;
            document.getElementById('penaSuspensao').value = 3;
            document.getElementById('penaDefinitiva').value = 8;
            document.getElementById('prisaoProvisoria').value = 180;
        });
    </script>
</body>
</html>